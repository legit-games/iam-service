env: local

database:
  iam:
    read:
      dsn: "postgres://oauth2:oauth2pass@localhost:5432/oauth2db?sslmode=disable"
    write:
      dsn: "postgres://oauth2:oauth2pass@localhost:5432/oauth2db?sslmode=disable"

valkey:
  addr: "127.0.0.1:6379"
  prefix: "iam:"

migrate:
  on_start: true
  driver: "postgres"
  dsn: "postgres://oauth2:oauth2pass@localhost:5432/oauth2db?sslmode=disable"
  cmd: "up"
  target: 0

seed:
  on_start: true
  driver: "postgres"
  dsn: "postgres://oauth2:oauth2pass@localhost:5432/oauth2db?sslmode=disable"
  cmd: "up"
  target: 0

# MFA (Multi-Factor Authentication) configuration
mfa:
  enabled: true
  # 32-byte hex-encoded encryption key (64 characters)
  # Generate with: openssl rand -hex 32
  encryption_key: "b75ad83f9f71485ed81b9f918478284f0bd38eb6fd0016c747948587745b6c1a"
  # Issuer name shown in authenticator apps
  totp_issuer: "OAuth2 Admin"
